<!DOCTYPE html>
<html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content='width=device-width'>
<link rel=preconnect href=https://cdn.statically.io crossorigin>
<link rel=preload as=style href=https://cdn.statically.io/gh/tonypermadi/website/2c532cda/styles.css>
<link rel=preload as=image href=https://cdn.statically.io/gh/tonypermadi/website/c6c7504e/192.png>
<link rel=preload as=image href=https://cdn.statically.io/gh/tonypermadi/website/c6c7504e/favicon.ico>
<link rel=canonical href=https://tony.permadi.id/index.html>
<link rel='shortcut icon' type=image/x-icon href=https://cdn.statically.io/gh/tonypermadi/website/c6c7504e/favicon.ico>
<link rel=icon type=image/png href=https://cdn.statically.io/gh/tonypermadi/website/c6c7504e/48.png sizes=48x48>
<link rel=icon type=image/png href=https://cdn.statically.io/gh/tonypermadi/website/c6c7504e/96.png sizes=96x96>
<link rel=apple-touch-icon href=https://cdn.statically.io/gh/tonypermadi/website/c6c7504e/144.png sizes=144x144>
<link rel=apple-touch-icon href=https://cdn.statically.io/gh/tonypermadi/website/c6c7504e/180.png sizes=180x180>
<link rel=icon type=image/png href=https://cdn.statically.io/gh/tonypermadi/website/c6c7504e/192.png sizes=192x192>
<link rel=manifest href=https://cdn.statically.io/gh/tonypermadi/website/d708735a/manifest.json>
<link rel=stylesheet href=https://cdn.statically.io/gh/tonypermadi/website/2c532cda/styles.css>
<meta name=theme-color content=#c00>
<meta name=description content="This is the homepage of Tony Permadi's personal website: Tony.Permadi.id.">
<title>Simple Offline Static Site</title>
</head>
<body>
<header><h1>Title</h1></header>
<nav><p>Navigation</p></nav>
<main>
<p>ABC</p>
</main>
<button id=install_button>Install</button>
<script>
if('serviceWorker' in navigator){console.log('CLIENT: SW reg in progress.');navigator.serviceWorker.register('../sw.js').then(function(){console.log('CLIENT: SW reg OK.');},function(){console.log('CLIENT: SW reg failed.');});}else{console.log('CLIENT: SW not supported.');}
let deferredPrompt;const installButton=document.getElementById("install_button");window.addEventListener("beforeinstallprompt",e=>{console.log("beforeinstallprompt fired");e.preventDefault();deferredPrompt=e;installButton.hidden=false;installButton.addEventListener("click",installApp);});function installApp(){deferredPrompt.prompt();installButton.disabled=true;deferredPrompt.userChoice.then(choiceResult=>{if(choiceResult.outcome==="accepted"){console.log("PWA accepted");installButton.hidden=true;}else{console.log("PWA rejected");}installButton.disabled=false;deferredPrompt=null;});}
</script>
</body>
</html>
